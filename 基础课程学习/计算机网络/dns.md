## 基础

### DNS的层次结构

![](/static/images/2012/p001.png)

- 每个节点有一个至多63个字符长的标识
- 这棵树的树根是没有任何标识的特殊节点
- 命名标识中一律不区分大写与小写
- 命名树上任何一个节点的域名就是将从该节点到最高层的域名串联起来，中间使用一个点”.“分隔这些域名
- 域名中的每个节点必须有一个唯一的域名，但域名树中的不同节点可使用相同的标识
- 以点"."结尾的域名称为绝对域名或者完全合格的域名，FQDN（full qualified domain name），例如sun.tuc.noao.edu.。

### 顶级域名

顶级域名被分为三部分：

1. arpa是一个用于地址到名字转换的特殊域
2. 7个3字符长的普通域。有些书也将这些域称为组织域
3. 所有2字符长的域均是基于ISO3166中定义的国家代码，这些域被称为国家域，或地理域。

### 授权

没有哪个机构来管理域名中的每个标识，相反，只有一个机构，即网络信息中心NIC负责顶级域和委派其它指定地区域的授权机构

一旦一个区域的授权机构被委派后，由它负责向该区域提供多个名字服务器。当一个新系统加入到一个区域中时，该区域的DNS管理者为该系统申请一个域名和一个IP地址，并将他们加入到名字服务器的数据库中。

这就是授权机构存在的必要性

### 部署

一个名字服务器负责一个或者多个区域。一个区域的管理者必须为该区域提供一个主名字服务器和至少一个辅助名字服务器。主、辅名字服务器必须是独立部署和冗余的，以便当某个名字服务器发生故障时，不会影响该区域的名字服务。

主、辅名字服务器的主要区别在于主名字服务器从磁盘文件中调入该区域的所有信息，而辅名字服务器则从主名字服务器调入所有信息。我们将辅名字服务器从主服务器调入信息称为区域传送。

### 分布式交互

当一个名字服务器没有请求的信息时，它将如何处理？它必须与其它的名字服务器联系。

然而并不是每个名字服务器都知道如何同其它名字服务器联系。每个名字服务器必须知道如何同根的名字服务器联系。

1993年4月时，有8个根名字服务器，所有的主名字服务器都必须知道根服务器的IP地址（这些IP地址在主名字服务器的配置文件中，主服务器必须知道根服务器的IP地址，而不是他们的域名）。根服务器则知道所有二级域名中的每个授权名字服务器的名字和位置（即IP地址）。

这意味着这样一个反复的过程：正在处理请求的名字服务器与根服务器联系，根服务器告诉他们与另一个名字服务器联系。




## 参考

- TCP/IP协议详解，卷一

